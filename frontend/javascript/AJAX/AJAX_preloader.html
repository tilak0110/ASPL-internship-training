<!DOCTYPE html>
<html>
<head>
  <title>AJAX Preloader Example</title>
</head>
<body>

<script>
function addPreloader() {
  if (!document.querySelector('#preloader')) {
    const preloaderHTML = '<img id="preloader" src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Loading_2.gif" />';
    document.querySelector('body').innerHTML += preloaderHTML;
  }
}

function removePreloader() {
  const preloader = document.querySelector('#preloader');
  if (preloader) {
    preloader.remove();
  }
}

const request = new XMLHttpRequest();
request.onreadystatechange = function () {
  if (request.readyState === 4 && request.status === 200) {
    removePreloader();
    document.body.innerHTML += `<p>Response received!</p>`;
  } else {
    addPreloader();
  }
};

request.open("GET", "https://jsonplaceholder.typicode.com/posts/1", true);
request.send();
</script>

</body>
</html>
